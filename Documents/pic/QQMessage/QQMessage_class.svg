<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1805px" preserveAspectRatio="none" style="width:1526px;height:1805px;background:#FFFFFF;" version="1.1" viewBox="0 0 1526 1805" width="1526px" zoomAndPan="magnify"><defs><filter height="300%" id="f7hrpgpwlml2m" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--MD5=[441483b6b0a951ab468a7e161ea2efc5]
cluster DataManager--><polygon fill="#FFFFFF" filter="url(#f7hrpgpwlml2m)" points="1057.5,537,1156.5,537,1163.5,562.1201,1316.5,562.1201,1316.5,661,1057.5,661,1057.5,537" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="1057.5" x2="1163.5" y1="562.1201" y2="562.1201"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="93" x="1061.5" y="555.0439">DataManager</text><!--MD5=[50410012277a53ec9046333ebc973b07]
class DataManager--><rect codeLine="3" fill="#FEFECE" filter="url(#f7hrpgpwlml2m)" height="48" id="DataManager" style="stroke:#A80036;stroke-width:1.5;" width="106" x="1194.5" y="597"/><ellipse cx="1209.5" cy="613" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M1208.0781,618.3594 Q1206.2188,618.3594 1205.125,616.9688 Q1204.0313,615.5781 1204.0313,612.5938 Q1204.0313,610.0625 1205.1953,608.4063 Q1206.3594,606.75 1208.3438,606.75 Q1209.8125,606.75 1210.2813,606.875 Q1210.75,607.0781 1210.75,607.0781 Q1210.75,607.0781 1210.75,607.0078 Q1210.75,606.9375 1211.3594,606.0156 L1212.4063,609.6719 L1211.0781,610.0781 Q1210.6094,608.5313 1209.9453,607.8672 Q1209.2813,607.2031 1208.2188,607.2031 Q1207.8281,607.2031 1207.0625,608.7344 Q1206.2969,610.2656 1206.2969,612.5156 Q1206.2969,614.9844 1206.9609,616.375 Q1207.625,617.7656 1208.1563,617.7656 Q1209.2188,617.7656 1209.9766,617 Q1210.7344,616.2344 1211.0781,614.5781 L1212.4063,615.1719 Q1212.0781,616.5781 1211.1797,617.4688 Q1210.2813,618.3594 1208.0781,618.3594 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="74" x="1223.5" y="618.5576">DataManager</text><line style="stroke:#A80036;stroke-width:1.5;" x1="1195.5" x2="1299.5" y1="629" y2="629"/><line style="stroke:#A80036;stroke-width:1.5;" x1="1195.5" x2="1299.5" y1="637" y2="637"/><path d="M1073.5,607 L1073.5,634.7544 A0,0 0 0 0 1073.5,634.7544 L1159.5,634.7544 A0,0 0 0 0 1159.5,634.7544 L1159.5,625 L1194.36,621 L1159.5,617 L1159.5,617 L1149.5,607 L1073.5,607 A0,0 0 0 0 1073.5,607 " fill="#FBFB77" filter="url(#f7hrpgpwlml2m)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M1149.5,607 L1149.5,617 L1159.5,617 L1149.5,607 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="65" x="1079.5" y="626.8979">数据库操作</text><!--MD5=[487a4e51b79de51afebc6810cd6437e6]
class QQMessage--><rect codeLine="7" fill="#FEFECE" filter="url(#f7hrpgpwlml2m)" height="228.2754" id="QQMessage" style="stroke:#A80036;stroke-width:1.5;" width="286" x="357.5" y="507"/><ellipse cx="461.75" cy="523" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M460.3281,528.3594 Q458.4688,528.3594 457.375,526.9688 Q456.2813,525.5781 456.2813,522.5938 Q456.2813,520.0625 457.4453,518.4063 Q458.6094,516.75 460.5938,516.75 Q462.0625,516.75 462.5313,516.875 Q463,517.0781 463,517.0781 Q463,517.0781 463,517.0078 Q463,516.9375 463.6094,516.0156 L464.6563,519.6719 L463.3281,520.0781 Q462.8594,518.5313 462.1953,517.8672 Q461.5313,517.2031 460.4688,517.2031 Q460.0781,517.2031 459.3125,518.7344 Q458.5469,520.2656 458.5469,522.5156 Q458.5469,524.9844 459.2109,526.375 Q459.875,527.7656 460.4063,527.7656 Q461.4688,527.7656 462.2266,527 Q462.9844,526.2344 463.3281,524.5781 L464.6563,525.1719 Q464.3281,526.5781 463.4297,527.4688 Q462.5313,528.3594 460.3281,528.3594 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="69" x="482.25" y="528.5576">QQMessage</text><line style="stroke:#A80036;stroke-width:1.5;" x1="358.5" x2="642.5" y1="539" y2="539"/><ellipse cx="368.5" cy="550" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;fill:none;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="103" x="377.5" y="555.606">std::string connectUrl</text><ellipse cx="368.5" cy="565.0229" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;fill:none;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="188" x="377.5" y="570.6289">std::map&lt;long long, PeerStatus&gt; status</text><ellipse cx="368.5" cy="580.0459" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;fill:none;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="189" x="377.5" y="585.6519">std::map&lt;long long, RegInfo&gt; regStatus</text><ellipse cx="368.5" cy="595.0688" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;fill:none;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="188" x="377.5" y="600.6748">std::map&lt;long long, StuInfo&gt; getStuInfo</text><ellipse cx="368.5" cy="610.0918" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;fill:none;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="260" x="377.5" y="615.6978">std::map&lt;long long, HomeworkInfo&gt; getHomeworkInfo</text><ellipse cx="368.5" cy="625.1147" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;fill:none;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="200" x="377.5" y="630.7207">std::map&lt;long long, long long&gt;getSubmitId</text><ellipse cx="368.5" cy="640.1377" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;fill:none;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="125" x="377.5" y="645.7437">WebsocketClient wsClient</text><ellipse cx="368.5" cy="655.1606" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;fill:none;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="139" x="377.5" y="660.7666">WebsocketServer wsServer</text><line style="stroke:#A80036;stroke-width:1.5;" x1="358.5" x2="642.5" y1="667.1836" y2="667.1836"/><ellipse cx="368.5" cy="678.1836" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" text-decoration="underline" textLength="231" x="377.5" y="683.7896">void _InitClient(std::string url = "127.0.0.1:6700")</text><ellipse cx="368.5" cy="693.2065" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" text-decoration="underline" textLength="116" x="377.5" y="698.8125">void _InitServer(int port)</text><ellipse cx="368.5" cy="708.2295" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" text-decoration="underline" textLength="59" x="377.5" y="713.8354">void _Stop()</text><ellipse cx="368.5" cy="723.2524" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" text-decoration="underline" textLength="229" x="377.5" y="728.8584">void readMessage(const std::string&amp; message)</text><path d="M425.5,173.5 L425.5,219.0088 A0,0 0 0 0 425.5,219.0088 L523.03,219.0088 L508,506.79 L531.03,219.0088 L631.5,219.0088 A0,0 0 0 0 631.5,219.0088 L631.5,183.5 L621.5,173.5 L425.5,173.5 A0,0 0 0 0 425.5,173.5 " fill="#FBFB77" filter="url(#f7hrpgpwlml2m)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M621.5,173.5 L621.5,183.5 L631.5,183.5 L621.5,173.5 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="104" x="431.5" y="193.3979">初始化调度其他类</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="185" x="431.5" y="211.1523">启动WebSocket服务端和客户端</text><!--MD5=[1059af2d425ed384aca7939e63df4c40]
class WebsocketClient--><rect codeLine="24" fill="#FEFECE" filter="url(#f7hrpgpwlml2m)" height="378.5049" id="WebsocketClient" style="stroke:#A80036;stroke-width:1.5;" width="383" x="7" y="7"/><ellipse cx="147.75" cy="23" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M146.3281,28.3594 Q144.4688,28.3594 143.375,26.9688 Q142.2813,25.5781 142.2813,22.5938 Q142.2813,20.0625 143.4453,18.4063 Q144.6094,16.75 146.5938,16.75 Q148.0625,16.75 148.5313,16.875 Q149,17.0781 149,17.0781 Q149,17.0781 149,17.0078 Q149,16.9375 149.6094,16.0156 L150.6563,19.6719 L149.3281,20.0781 Q148.8594,18.5313 148.1953,17.8672 Q147.5313,17.2031 146.4688,17.2031 Q146.0781,17.2031 145.3125,18.7344 Q144.5469,20.2656 144.5469,22.5156 Q144.5469,24.9844 145.2109,26.375 Q145.875,27.7656 146.4063,27.7656 Q147.4688,27.7656 148.2266,27 Q148.9844,26.2344 149.3281,24.5781 L150.6563,25.1719 Q150.3281,26.5781 149.4297,27.4688 Q148.5313,28.3594 146.3281,28.3594 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="93" x="168.25" y="28.5576">WebsocketClient</text><line style="stroke:#A80036;stroke-width:1.5;" x1="8" x2="389" y1="39" y2="39"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="15" y="47"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="250" x="27" y="55.606">connection_metadata::ptr m_ConnectionMetadataPtr</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="15" y="62.0229"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="122" x="27" y="70.6289">client m_WebsocketClient</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="15" y="77.0459"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="326" x="27" y="85.6519">websocketpp::lib::shared_ptr&lt;websocketpp::lib::thread&gt; m_Thread;</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="15" y="92.0688"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="88" x="27" y="100.6748">std::string lastURL</text><line style="stroke:#A80036;stroke-width:1.5;" x1="8" x2="389" y1="107.0918" y2="107.0918"/><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="15" y="115.0918"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="145" x="27" y="123.6978">OnOpenFunc m_OnOpenFunc</text><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="15" y="130.1147"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="125" x="27" y="138.7207">OnFailFunc m_OnFailFunc</text><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="15" y="145.1377"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="147" x="27" y="153.7437">OnCloseFunc m_OnCloseFunc</text><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="15" y="160.1606"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="167" x="27" y="168.7666">OnMessageFunc m_MessageFunc</text><ellipse cx="18" cy="178.1836" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="88" x="27" y="183.7896">WebsocketClient()</text><ellipse cx="18" cy="193.2065" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-style="italic" lengthAdjust="spacing" textLength="100" x="27" y="198.8125">~WebsocketClient()</text><ellipse cx="18" cy="208.2295" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="171" x="27" y="213.8354">bool Connect(std::string const&amp; url)</text><ellipse cx="18" cy="223.2524" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="163" x="27" y="228.8584">bool Close(std::string reason = "")</text><ellipse cx="18" cy="238.2754" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="151" x="27" y="243.8813">bool Send(std::string message)</text><ellipse cx="18" cy="253.2983" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="261" x="27" y="258.9043">connection_metadata::ptr GetConnectionMetadataPtr()</text><ellipse cx="18" cy="268.3213" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="277" x="27" y="273.9272">void OnOpen(client* c, websocketpp::connection_hdl hdl)</text><ellipse cx="18" cy="283.3442" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="267" x="27" y="288.9502">void OnFail(client* c, websocketpp::connection_hdl hdl)</text><ellipse cx="18" cy="298.3672" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="278" x="27" y="303.9731">void OnClose(client* c, websocketpp::connection_hdl hdl)</text><ellipse cx="18" cy="313.3901" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="357" x="27" y="318.9961">void OnMessage(websocketpp::connection_hdl, client::message_ptr msg)</text><ellipse cx="18" cy="328.4131" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="200" x="27" y="334.019">void SetOnOpenFunc(OnOpenFunc func)</text><ellipse cx="18" cy="343.436" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="180" x="27" y="349.042">void SetOnFailFunc(OnFailFunc func)</text><ellipse cx="18" cy="358.459" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="202" x="27" y="364.0649">void SetOnCloseFunc(OnCloseFunc func)</text><ellipse cx="18" cy="373.4819" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="222" x="27" y="379.0879">void SetMessageFunc(OnMessageFunc func)</text><path d="M102.5,598 L102.5,643.5088 A0,0 0 0 0 102.5,643.5088 L294.5,643.5088 A0,0 0 0 0 294.5,643.5088 L294.5,608 L284.5,598 L202.5,598 L198.5,386.2 L194.5,598 L102.5,598 A0,0 0 0 0 102.5,598 " fill="#FBFB77" filter="url(#f7hrpgpwlml2m)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M284.5,598 L284.5,608 L294.5,608 L284.5,598 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="107" x="108.5" y="617.8979">WebSocket服务端</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="171" x="108.5" y="635.6523">用于接收go-cqhttp发送的消息</text><!--MD5=[68b2d8e65c22da78bfb6e6180d5765c5]
class WebsocketServer--><rect codeLine="51" fill="#FEFECE" filter="url(#f7hrpgpwlml2m)" height="183.2065" id="WebsocketServer" style="stroke:#A80036;stroke-width:1.5;" width="584" x="551.5" y="907"/><ellipse cx="791.25" cy="923" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M789.8281,928.3594 Q787.9688,928.3594 786.875,926.9688 Q785.7813,925.5781 785.7813,922.5938 Q785.7813,920.0625 786.9453,918.4063 Q788.1094,916.75 790.0938,916.75 Q791.5625,916.75 792.0313,916.875 Q792.5,917.0781 792.5,917.0781 Q792.5,917.0781 792.5,917.0078 Q792.5,916.9375 793.1094,916.0156 L794.1563,919.6719 L792.8281,920.0781 Q792.3594,918.5313 791.6953,917.8672 Q791.0313,917.2031 789.9688,917.2031 Q789.5781,917.2031 788.8125,918.7344 Q788.0469,920.2656 788.0469,922.5156 Q788.0469,924.9844 788.7109,926.375 Q789.375,927.7656 789.9063,927.7656 Q790.9688,927.7656 791.7266,927 Q792.4844,926.2344 792.8281,924.5781 L794.1563,925.1719 Q793.8281,926.5781 792.9297,927.4688 Q792.0313,928.3594 789.8281,928.3594 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="96" x="811.75" y="928.5576">WebsocketServer</text><line style="stroke:#A80036;stroke-width:1.5;" x1="552.5" x2="1134.5" y1="939" y2="939"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="559.5" y="947"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="100" x="571.5" y="955.606">server echo_server;</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="559.5" y="962.0229"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="129" x="571.5" y="970.6289">con_list m_connection_list;</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="559.5" y="977.0459"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="323" x="571.5" y="985.6519">websocketpp::lib::shared_ptr&lt;websocketpp::lib::thread&gt; m_thread;</text><line style="stroke:#A80036;stroke-width:1.5;" x1="552.5" x2="1134.5" y1="992.0688" y2="992.0688"/><ellipse cx="562.5" cy="1003.0688" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="98" x="571.5" y="1008.6748">WebsocketServer();</text><ellipse cx="562.5" cy="1018.0918" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="104" x="571.5" y="1023.6978">~WebsocketServer();</text><ellipse cx="562.5" cy="1033.1147" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" text-decoration="underline" textLength="448" x="571.5" y="1038.7207">void OnOpen(server* s, WebsocketServer* pWebSocket, websocketpp::connection_hdl hdl);</text><ellipse cx="562.5" cy="1048.1377" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" text-decoration="underline" textLength="449" x="571.5" y="1053.7437">void OnClose(server* s, WebsocketServer* pWebSocket, websocketpp::connection_hdl hdl);</text><ellipse cx="562.5" cy="1063.1606" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" text-decoration="underline" textLength="558" x="571.5" y="1068.7666">void OnMessage(server* s, WebsocketServer* pWebSocket, websocketpp::connection_hdl hdl, message_ptr msg);</text><ellipse cx="562.5" cy="1078.1836" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="89" x="571.5" y="1083.7896">void start(int port);</text><path d="M779.5,598 L779.5,643.5088 A0,0 0 0 0 779.5,643.5088 L839.5,643.5088 L843.5,906.9 L847.5,643.5088 L907.5,643.5088 A0,0 0 0 0 907.5,643.5088 L907.5,608 L897.5,598 L779.5,598 A0,0 0 0 0 779.5,598 " fill="#FBFB77" filter="url(#f7hrpgpwlml2m)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M897.5,598 L897.5,608 L907.5,608 L897.5,598 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="107" x="785.5" y="617.8979">WebSocket服务端</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="104" x="785.5" y="635.6523">用于与教师端通信</text><!--MD5=[3682458b7332602c1d49cebe9947b2f1]
class PrivateMessageGetter--><rect codeLine="66" fill="#FEFECE" filter="url(#f7hrpgpwlml2m)" height="138.1377" id="PrivateMessageGetter" style="stroke:#A80036;stroke-width:1.5;" width="252" x="264.5" y="929.5"/><ellipse cx="325.75" cy="945.5" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M324.3281,950.8594 Q322.4688,950.8594 321.375,949.4688 Q320.2813,948.0781 320.2813,945.0938 Q320.2813,942.5625 321.4453,940.9063 Q322.6094,939.25 324.5938,939.25 Q326.0625,939.25 326.5313,939.375 Q327,939.5781 327,939.5781 Q327,939.5781 327,939.5078 Q327,939.4375 327.6094,938.5156 L328.6563,942.1719 L327.3281,942.5781 Q326.8594,941.0313 326.1953,940.3672 Q325.5313,939.7031 324.4688,939.7031 Q324.0781,939.7031 323.3125,941.2344 Q322.5469,942.7656 322.5469,945.0156 Q322.5469,947.4844 323.2109,948.875 Q323.875,950.2656 324.4063,950.2656 Q325.4688,950.2656 326.2266,949.5 Q326.9844,948.7344 327.3281,947.0781 L328.6563,947.6719 Q328.3281,949.0781 327.4297,949.9688 Q326.5313,950.8594 324.3281,950.8594 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="121" x="346.25" y="951.0576">PrivateMessageGetter</text><line style="stroke:#A80036;stroke-width:1.5;" x1="265.5" x2="515.5" y1="961.5" y2="961.5"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="272.5" y="969.5"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="65" x="284.5" y="978.106">long long time</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="272.5" y="984.5229"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="88" x="284.5" y="993.1289">long long senderId</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="272.5" y="999.5459"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="93" x="284.5" y="1008.1519">std::string rawData</text><line style="stroke:#A80036;stroke-width:1.5;" x1="265.5" x2="515.5" y1="1014.5688" y2="1014.5688"/><ellipse cx="275.5" cy="1025.5688" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="226" x="284.5" y="1031.1748">PrivateMessageGetter(nlohmann::json decode)</text><ellipse cx="275.5" cy="1040.5918" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="119" x="284.5" y="1046.1978">std::string getRawData()</text><ellipse cx="275.5" cy="1055.6147" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="112" x="284.5" y="1061.2207">long long getSenderId()</text><path d="M321.5,1371 L321.5,1398.7544 A0,0 0 0 0 321.5,1398.7544 L459.5,1398.7544 A0,0 0 0 0 459.5,1398.7544 L459.5,1381 L449.5,1371 L394.5,1371 L390.5,1067.8 L386.5,1371 L321.5,1371 A0,0 0 0 0 321.5,1371 " fill="#FBFB77" filter="url(#f7hrpgpwlml2m)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M449.5,1371 L449.5,1381 L459.5,1381 L449.5,1371 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="117" x="327.5" y="1390.8979">接收并分析私聊消息</text><!--MD5=[f107375bbf3dfc3aaca6b08014d37283]
class PrivateMessageSender--><rect codeLine="78" fill="#FEFECE" filter="url(#f7hrpgpwlml2m)" height="123.1147" id="PrivateMessageSender" style="stroke:#A80036;stroke-width:1.5;" width="306" x="1190.5" y="1323.5"/><ellipse cx="1275.25" cy="1339.5" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M1273.8281,1344.8594 Q1271.9688,1344.8594 1270.875,1343.4688 Q1269.7813,1342.0781 1269.7813,1339.0938 Q1269.7813,1336.5625 1270.9453,1334.9063 Q1272.1094,1333.25 1274.0938,1333.25 Q1275.5625,1333.25 1276.0313,1333.375 Q1276.5,1333.5781 1276.5,1333.5781 Q1276.5,1333.5781 1276.5,1333.5078 Q1276.5,1333.4375 1277.1094,1332.5156 L1278.1563,1336.1719 L1276.8281,1336.5781 Q1276.3594,1335.0313 1275.6953,1334.3672 Q1275.0313,1333.7031 1273.9688,1333.7031 Q1273.5781,1333.7031 1272.8125,1335.2344 Q1272.0469,1336.7656 1272.0469,1339.0156 Q1272.0469,1341.4844 1272.7109,1342.875 Q1273.375,1344.2656 1273.9063,1344.2656 Q1274.9688,1344.2656 1275.7266,1343.5 Q1276.4844,1342.7344 1276.8281,1341.0781 L1278.1563,1341.6719 Q1277.8281,1343.0781 1276.9297,1343.9688 Q1276.0313,1344.8594 1273.8281,1344.8594 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="128" x="1295.75" y="1345.0576">PrivateMessageSender</text><line style="stroke:#A80036;stroke-width:1.5;" x1="1191.5" x2="1495.5" y1="1355.5" y2="1355.5"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="1198.5" y="1363.5"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="72" x="1210.5" y="1372.106">std::string data</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="1198.5" y="1378.5229"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="82" x="1210.5" y="1387.1289">long long targetId</text><line style="stroke:#A80036;stroke-width:1.5;" x1="1191.5" x2="1495.5" y1="1393.5459" y2="1393.5459"/><ellipse cx="1201.5" cy="1404.5459" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="280" x="1210.5" y="1410.1519">PrivateMessageSender(long long targetId, std::string data)</text><ellipse cx="1201.5" cy="1419.5688" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="155" x="1210.5" y="1425.1748">void setContent(std::string data)</text><ellipse cx="1201.5" cy="1434.5918" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="55" x="1210.5" y="1440.1978">void send()</text><path d="M1294,1700.5 L1294,1728.2544 A0,0 0 0 0 1294,1728.2544 L1393,1728.2544 A0,0 0 0 0 1393,1728.2544 L1393,1710.5 L1383,1700.5 L1347.5,1700.5 L1343.5,1446.83 L1339.5,1700.5 L1294,1700.5 A0,0 0 0 0 1294,1700.5 " fill="#FBFB77" filter="url(#f7hrpgpwlml2m)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M1383,1700.5 L1383,1710.5 L1393,1710.5 L1383,1700.5 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="78" x="1300" y="1720.3979">发送私聊消息</text><!--MD5=[5497a3467eb99130277fd0d1ed8bd2ab]
class Analyst--><rect codeLine="89" fill="#FEFECE" filter="url(#f7hrpgpwlml2m)" height="183.2065" id="Analyst" style="stroke:#A80036;stroke-width:1.5;" width="341" x="1171" y="907"/><ellipse cx="1317.75" cy="923" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M1316.3281,928.3594 Q1314.4688,928.3594 1313.375,926.9688 Q1312.2813,925.5781 1312.2813,922.5938 Q1312.2813,920.0625 1313.4453,918.4063 Q1314.6094,916.75 1316.5938,916.75 Q1318.0625,916.75 1318.5313,916.875 Q1319,917.0781 1319,917.0781 Q1319,917.0781 1319,917.0078 Q1319,916.9375 1319.6094,916.0156 L1320.6563,919.6719 L1319.3281,920.0781 Q1318.8594,918.5313 1318.1953,917.8672 Q1317.5313,917.2031 1316.4688,917.2031 Q1316.0781,917.2031 1315.3125,918.7344 Q1314.5469,920.2656 1314.5469,922.5156 Q1314.5469,924.9844 1315.2109,926.375 Q1315.875,927.7656 1316.4063,927.7656 Q1317.4688,927.7656 1318.2266,927 Q1318.9844,926.2344 1319.3281,924.5781 L1320.6563,925.1719 Q1320.3281,926.5781 1319.4297,927.4688 Q1318.5313,928.3594 1316.3281,928.3594 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="39" x="1338.25" y="928.5576">Analyst</text><line style="stroke:#A80036;stroke-width:1.5;" x1="1172" x2="1511" y1="939" y2="939"/><ellipse cx="1182" cy="950" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;fill:none;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="68" x="1191" y="955.606">struct RegInfo</text><ellipse cx="1182" cy="965.0229" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;fill:none;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="65" x="1191" y="970.6289">struct StuInfo</text><ellipse cx="1182" cy="980.0459" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;fill:none;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="101" x="1191" y="985.6519">struct HomeworkInfo</text><line style="stroke:#A80036;stroke-width:1.5;" x1="1172" x2="1511" y1="992.0688" y2="992.0688"/><ellipse cx="1182" cy="1003.0688" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="240" x="1191" y="1008.6748">void AnaText(std::u16string data, long long qq_id)</text><ellipse cx="1182" cy="1018.0918" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="265" x="1191" y="1023.6978">void RegCommand(std::u16string data, long long qq_id)</text><ellipse cx="1182" cy="1033.1147" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="267" x="1191" y="1038.7207">void HomCommand(std::u16string data, long long qq_id)</text><ellipse cx="1182" cy="1048.1377" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="288" x="1191" y="1053.7437">void AnaFile(std::string name,std::string url, long long qq_id)</text><ellipse cx="1182" cy="1063.1606" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="174" x="1191" y="1068.7666">bool sendReview(long homeworkId)</text><ellipse cx="1182" cy="1078.1836" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="315" x="1191" y="1083.7896">void sendHomeworkNotification(long long assignmentId, int mode)</text><path d="M1386,607 L1386,634.7544 L1485,634.7544 L1485,617 L1475,607 L1386,607 " fill="#FBFB77" filter="url(#f7hrpgpwlml2m)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M1475,607 L1475,617 L1485,617 L1475,607 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="78" x="1392" y="626.8979">消息文本分析</text><!--MD5=[63dd87716ef75a5caca5dce59428e94a]
class File--><rect codeLine="104" fill="#FEFECE" filter="url(#f7hrpgpwlml2m)" height="348.459" id="File" style="stroke:#A80036;stroke-width:1.5;" width="339" x="678" y="1211"/><ellipse cx="833.25" cy="1227" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M831.8281,1232.3594 Q829.9688,1232.3594 828.875,1230.9688 Q827.7813,1229.5781 827.7813,1226.5938 Q827.7813,1224.0625 828.9453,1222.4063 Q830.1094,1220.75 832.0938,1220.75 Q833.5625,1220.75 834.0313,1220.875 Q834.5,1221.0781 834.5,1221.0781 Q834.5,1221.0781 834.5,1221.0078 Q834.5,1220.9375 835.1094,1220.0156 L836.1563,1223.6719 L834.8281,1224.0781 Q834.3594,1222.5313 833.6953,1221.8672 Q833.0313,1221.2031 831.9688,1221.2031 Q831.5781,1221.2031 830.8125,1222.7344 Q830.0469,1224.2656 830.0469,1226.5156 Q830.0469,1228.9844 830.7109,1230.375 Q831.375,1231.7656 831.9063,1231.7656 Q832.9688,1231.7656 833.7266,1231 Q834.4844,1230.2344 834.8281,1228.5781 L836.1563,1229.1719 Q835.8281,1230.5781 834.9297,1231.4688 Q834.0313,1232.3594 831.8281,1232.3594 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="20" x="853.75" y="1232.5576">File</text><line style="stroke:#A80036;stroke-width:1.5;" x1="679" x2="1016" y1="1243" y2="1243"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="686" y="1251"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="146" x="698" y="1259.606">std::filesystem::path workPath</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="686" y="1266.0229"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="156" x="698" y="1274.6289">std::filesystem::path relativePath</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="686" y="1281.0459"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="139" x="698" y="1289.6519">std::filesystem::path infoPath</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="686" y="1296.0688"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="233" x="698" y="1304.6748">long long classId, schoolId, homeworkId,submitId</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="686" y="1311.0918"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="132" x="698" y="1319.6978">std::vector&lt;FileInfo&gt; fileList</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="686" y="1326.1147"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="79" x="698" y="1334.7207">int autoIndex = 1</text><line style="stroke:#A80036;stroke-width:1.5;" x1="679" x2="1016" y1="1341.1377" y2="1341.1377"/><ellipse cx="689" cy="1352.1377" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="307" x="698" y="1357.7437">File(long long classId, long long schoolId, long long homeworkId)</text><ellipse cx="689" cy="1367.1606" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="115" x="698" y="1372.7666">File(HomeworkInfo info)</text><ellipse cx="689" cy="1382.1836" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="177" x="698" y="1387.7896">std::string storeText(std::string data)</text><ellipse cx="689" cy="1397.2065" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="230" x="698" y="1402.8125">std::string delFile(std::filesystem::path fileName)</text><ellipse cx="689" cy="1412.2295" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="313" x="698" y="1417.8354">std::string downFile(std::string url, std::filesystem::path fileName)</text><ellipse cx="689" cy="1427.2524" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="161" x="698" y="1432.8584">std::string storePic(std::string url)</text><ellipse cx="689" cy="1442.2754" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="140" x="698" y="1447.8813">bool save(long long submitId)</text><ellipse cx="689" cy="1457.2983" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="107" x="698" y="1462.9043">std::string getFileList()</text><ellipse cx="689" cy="1472.3213" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="231" x="698" y="1477.9272">std::string getFile(std::filesystem::path fileName)</text><ellipse cx="689" cy="1487.3442" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="109" x="698" y="1492.9502">long long getSubmitId()</text><ellipse cx="689" cy="1502.3672" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="127" x="698" y="1507.9731">std::string getContentFile()</text><ellipse cx="689" cy="1517.3901" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="145" x="698" y="1522.9961">std::string getAttachmentFile()</text><ellipse cx="689" cy="1532.4131" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="57" x="698" y="1538.019">void delAll()</text><ellipse cx="689" cy="1547.436" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="301" x="698" y="1553.042">std::filesystem::path getFilePath(std::filesystem::path fileName)</text><path d="M1052,1371 L1052,1381 L1017.16,1385 L1052,1389 L1052,1398.7544 A0,0 0 0 0 1052,1398.7544 L1151,1398.7544 A0,0 0 0 0 1151,1398.7544 L1151,1381 L1141,1371 L1052,1371 A0,0 0 0 0 1052,1371 " fill="#FBFB77" filter="url(#f7hrpgpwlml2m)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M1141,1371 L1141,1381 L1151,1381 L1141,1371 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="78" x="1058" y="1390.8979">本地文件管理</text><!--MD5=[cf7dacd8f7ef753f28ab609139658ae0]
class FileInfo--><rect codeLine="130" fill="#FEFECE" filter="url(#f7hrpgpwlml2m)" height="153.1606" id="FileInfo" style="stroke:#A80036;stroke-width:1.5;" width="203" x="746" y="1638"/><ellipse cx="823.25" cy="1654" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M821.8281,1659.3594 Q819.9688,1659.3594 818.875,1657.9688 Q817.7813,1656.5781 817.7813,1653.5938 Q817.7813,1651.0625 818.9453,1649.4063 Q820.1094,1647.75 822.0938,1647.75 Q823.5625,1647.75 824.0313,1647.875 Q824.5,1648.0781 824.5,1648.0781 Q824.5,1648.0781 824.5,1648.0078 Q824.5,1647.9375 825.1094,1647.0156 L826.1563,1650.6719 L824.8281,1651.0781 Q824.3594,1649.5313 823.6953,1648.8672 Q823.0313,1648.2031 821.9688,1648.2031 Q821.5781,1648.2031 820.8125,1649.7344 Q820.0469,1651.2656 820.0469,1653.5156 Q820.0469,1655.9844 820.7109,1657.375 Q821.375,1658.7656 821.9063,1658.7656 Q822.9688,1658.7656 823.7266,1658 Q824.4844,1657.2344 824.8281,1655.5781 L826.1563,1656.1719 Q825.8281,1657.5781 824.9297,1658.4688 Q824.0313,1659.3594 821.8281,1659.3594 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="40" x="843.75" y="1659.5576">FileInfo</text><line style="stroke:#A80036;stroke-width:1.5;" x1="747" x2="948" y1="1670" y2="1670"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="754" y="1678"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="135" x="766" y="1686.606">std::filesystem::path filePath</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="754" y="1693.0229"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="141" x="766" y="1701.6289">std::filesystem::path fileName</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="754" y="1708.0459"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="111" x="766" y="1716.6519">FileFormats fileFormats</text><line style="stroke:#A80036;stroke-width:1.5;" x1="747" x2="948" y1="1723.0688" y2="1723.0688"/><ellipse cx="757" cy="1734.0688" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="177" x="766" y="1739.6748">FileInfo(std::filesystem::path filePath)</text><ellipse cx="757" cy="1749.0918" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="160" x="766" y="1754.6978">std::filesystem::path getFilePath()</text><ellipse cx="757" cy="1764.1147" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="166" x="766" y="1769.7207">std::filesystem::path getFileName()</text><ellipse cx="757" cy="1779.1377" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="136" x="766" y="1784.7437">FileFormats getFileFormats()</text><path d="M984,1700.5 L984,1710.5 L949.21,1714.5 L984,1718.5 L984,1728.2544 A0,0 0 0 0 984,1728.2544 L1057,1728.2544 A0,0 0 0 0 1057,1728.2544 L1057,1710.5 L1047,1700.5 L984,1700.5 A0,0 0 0 0 984,1700.5 " fill="#FBFB77" filter="url(#f7hrpgpwlml2m)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M1047,1700.5 L1047,1710.5 L1057,1710.5 L1047,1700.5 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="52" x="990" y="1720.3979">文件信息</text><!--MD5=[985c0209ffe6e708c7c7bf44e47bd7ee]
link GMN28 to Analyst--><path d="M1436.4,635.14 C1438.61,673.49 1442.17,788.2 1413.5,877 C1410.28,886.97 1406.11,896.99 1401.4,906.77 " fill="none" id="GMN28-Analyst" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><!--MD5=[b2c30c259724686b2a9ed2a2380988d5]
link WebsocketClient to QQMessage--><path codeLine="143" d="M325.12,386.15 C346.31,416.74 368.3,447.91 389.5,477 C395.62,485.4 402.02,494.02 408.51,502.66 " fill="none" id="WebsocketClient-to-QQMessage" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="411.71,506.91,409.51,497.31,408.71,502.91,403.11,502.11,411.71,506.91" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="65" x="413.5" y="431.8979">接收到消息</text><path d="M394.5,440.7544 L394.5,467.7544 L493.5,467.7544 L493.5,450.7544 L483.5,440.7544 L394.5,440.7544 " fill="#FBFB77" filter="url(#f7hrpgpwlml2m)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M483.5,440.7544 L483.5,450.7544 L493.5,450.7544 L483.5,440.7544 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="78" x="400.5" y="460.6523">执行回调函数</text><!--MD5=[46e79f4682813b6dffb9507143b2660c]
link QQMessage to PrivateMessageGetter--><path codeLine="145" d="M424.61,735.26 C419.97,745.07 415.83,755.05 412.5,765 C395.27,816.47 390.05,877.69 388.98,924.39 " fill="none" id="QQMessage-to-PrivateMessageGetter" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="388.88,929.43,393.0592,920.5118,388.98,924.431,385.0608,920.3518,388.88,929.43" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="65" x="448.5" y="797.3979">接收到消息</text><path d="M417.5,806.2544 L417.5,851.2544 L540.5,851.2544 L540.5,816.2544 L530.5,806.2544 L417.5,806.2544 " fill="#FBFB77" filter="url(#f7hrpgpwlml2m)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M530.5,806.2544 L530.5,816.2544 L540.5,816.2544 L530.5,806.2544 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="102" x="423.5" y="826.1523">传送原始json数据</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="52" x="423.5" y="843.9067">解析数据</text><!--MD5=[11dfb13d721171dcccad8a2176488b41]
link QQMessage to Analyst--><path codeLine="148" d="M546.16,735.36 C572.94,799.15 604.09,867.86 617.5,877 C666.79,910.6 1095.74,892.11 1153.5,907 C1157.66,908.07 1161.84,909.24 1166.02,910.49 " fill="none" id="QQMessage-to-Analyst" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="1170.94,912,1163.4953,905.552,1166.1568,910.5436,1161.1651,913.2051,1170.94,912" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="52" x="618.5" y="827.3979">开始分析</text><!--MD5=[70e541c2e24cb9e9eb853f565ed84834]
link PrivateMessageGetter to Analyst--><path codeLine="149" d="M473.38,929.41 C528.21,888.44 603.81,840.52 680,819.5 C849.59,772.71 1043.97,839.7 1177.92,904.63 " fill="none" id="PrivateMessageGetter-to-Analyst" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="1182.66,906.94,1176.3215,899.4019,1178.1652,904.7499,1172.8172,906.5936,1182.66,906.94" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="65" x="704" y="806.3979">接收到消息</text><path d="M685,815.2544 L685,842.2544 L784,842.2544 L784,825.2544 L774,815.2544 L685,815.2544 " fill="#FBFB77" filter="url(#f7hrpgpwlml2m)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M774,815.2544 L774,825.2544 L784,825.2544 L774,815.2544 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="78" x="691" y="835.1523">传输文本内容</text><!--MD5=[3891102abea0227857221f481a310f67]
link Analyst to PrivateMessageSender--><path codeLine="152" d="M1341.97,1090.13 C1342.34,1160.1 1342.83,1255.27 1343.16,1318.11 " fill="none" id="Analyst-to-PrivateMessageSender" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="1343.18,1323.33,1347.1285,1314.3073,1343.1514,1318.3301,1339.1286,1314.353,1343.18,1323.33" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="52" x="1401.5" y="1135.8979">分析完成</text><path d="M1346.5,1144.7544 L1346.5,1171.7544 L1504.5,1171.7544 L1504.5,1154.7544 L1494.5,1144.7544 L1346.5,1144.7544 " fill="#FBFB77" filter="url(#f7hrpgpwlml2m)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M1494.5,1144.7544 L1494.5,1154.7544 L1504.5,1154.7544 L1494.5,1144.7544 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="137" x="1352.5" y="1164.6523">向相应QQ发送返回结果</text><!--MD5=[bcaadcfae54571f0e15ca8d725ba7149]
link Analyst to File--><path codeLine="155" d="M1170.94,1081.62 C1127.02,1102.79 1091.79,1119.79 1091.5,1120 C1070.54,1135.51 1037.27,1169.01 1001.96,1207.12 " fill="none" id="Analyst-to-File" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="998.53,1210.82,1007.58,1206.9345,1001.9273,1207.1515,1001.7104,1201.4988,998.53,1210.82" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="104" x="1160.5" y="1135.8979">保存提交作业内容</text><path d="M1096.5,1144.7544 L1096.5,1171.7544 L1324.5,1171.7544 L1324.5,1154.7544 L1314.5,1144.7544 L1096.5,1144.7544 " fill="#FBFB77" filter="url(#f7hrpgpwlml2m)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M1314.5,1144.7544 L1314.5,1154.7544 L1324.5,1154.7544 L1314.5,1144.7544 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="207" x="1102.5" y="1164.6523">服务端存储文本 图片 代码 其他附件</text><!--MD5=[ea78d0d1c9ee5ea8d70c9884bccc9b22]
link File to FileInfo--><path codeLine="158" d="M847.5,1564.51 C847.5,1588.43 847.5,1611.93 847.5,1632.94 " fill="none" id="File-FileInfo" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="847.5,1637.94,851.5,1628.94,847.5,1632.94,843.5,1628.94,847.5,1637.94" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="847.5,1559.34,843.5,1568.34,847.5,1564.34,851.5,1568.34,847.5,1559.34" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="78" x="848.5" y="1604.8979">查询文件信息</text><!--MD5=[81ffde03964e694cc6aaa943c5a0a0dc]
link WebsocketServer to File--><path codeLine="160" d="M840.9,1095.46 C840.74,1103.76 840.6,1112.03 840.5,1120 C840.16,1147.11 840.03,1153.89 840.5,1181 C840.64,1189.1 840.81,1197.39 841.01,1205.75 " fill="none" id="WebsocketServer-File" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="841.13,1210.97,844.8973,1201.8702,841.0015,1205.9717,836.9,1202.0758,841.13,1210.97" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="841,1090.29,836.8208,1099.2082,840.9,1095.289,844.8192,1099.3682,841,1090.29" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="78" x="890.5" y="1135.8979">传输文件内容</text><path d="M845.5,1144.7544 L845.5,1171.7544 L1009.5,1171.7544 L1009.5,1154.7544 L999.5,1144.7544 L845.5,1144.7544 " fill="#FBFB77" filter="url(#f7hrpgpwlml2m)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M999.5,1144.7544 L999.5,1154.7544 L1009.5,1154.7544 L999.5,1144.7544 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="143" x="851.5" y="1164.6523">教师端发出下载文件请求</text><!--MD5=[4679c29e0fdb6b9a90203971d36136f1]
link DataManager to Analyst--><path codeLine="163" d="M1240.2,650.11 C1229.1,698.27 1212.1,798.89 1240.5,877 C1243.65,885.66 1247.72,894.13 1252.42,902.31 " fill="none" id="DataManager-Analyst" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="1255.1,906.82,1253.9619,897.0371,1252.5549,902.5162,1247.0758,901.1093,1255.1,906.82" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="1241.39,645.06,1235.435,652.9046,1240.2448,649.9271,1243.2223,654.7369,1241.39,645.06" style="stroke:#A80036;stroke-width:1.0;"/><path d="M1245.5,770 L1245.5,868 L1396.5,868 L1396.5,780 L1386.5,770 L1245.5,770 " fill="#FBFB77" filter="url(#f7hrpgpwlml2m)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M1386.5,770 L1386.5,780 L1396.5,780 L1386.5,770 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="117" x="1251.5" y="789.8979">查询并返回相关数据</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="130" x="1251.5" y="807.6523">注册信息，班级，作业</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="0" x="1255.5" y="825.4067"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="52" x="1251.5" y="843.1611">提交作业</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="65" x="1251.5" y="860.9155">更新数据库</text><!--MD5=[31597f3120827364608efb6733569e27]
@startuml
package DataManager
{
    class DataManager
    note left: 数据库操作
}

class QQMessage
{
    + {static} void _InitClient(std::string url = "127.0.0.1:6700")
	+ {static} void _InitServer(int port)
	+ {static} void _Stop()
    + {static} void readMessage(const std::string& message)
	+ std::string connectUrl
	+ std::map<long long, PeerStatus> status
	+ std::map<long long, RegInfo> regStatus
	+ std::map<long long, StuInfo> getStuInfo
	+ std::map<long long, HomeworkInfo> getHomeworkInfo
	+ std::map<long long, long long>getSubmitId
	+ WebsocketClient wsClient
	+ WebsocketServer wsServer
}
note top: 初始化调度其他类\n启动WebSocket服务端和客户端

class WebsocketClient
{
    - connection_metadata::ptr m_ConnectionMetadataPtr
	- client m_WebsocketClient
	- websocketpp::lib::shared_ptr<websocketpp::lib::thread> m_Thread;
	- std::string lastURL
	{method}- OnOpenFunc m_OnOpenFunc
	{method}- OnFailFunc m_OnFailFunc
	{method}- OnCloseFunc m_OnCloseFunc
	{method}- OnMessageFunc m_MessageFunc
    + WebsocketClient()
	+ {abstract} ~WebsocketClient()
	+ bool Connect(std::string const& url)
	+ bool Close(std::string reason = "")
	+ bool Send(std::string message)
	+ connection_metadata::ptr GetConnectionMetadataPtr()
	+ void OnOpen(client* c, websocketpp::connection_hdl hdl)
	+ void OnFail(client* c, websocketpp::connection_hdl hdl)
	+ void OnClose(client* c, websocketpp::connection_hdl hdl)
	+ void OnMessage(websocketpp::connection_hdl, client::message_ptr msg)
	+ void SetOnOpenFunc(OnOpenFunc func)
	+ void SetOnFailFunc(OnFailFunc func)
	+ void SetOnCloseFunc(OnCloseFunc func)
	+ void SetMessageFunc(OnMessageFunc func)
}
note bottom: WebSocket服务端\n用于接收go-cqhttp发送的消息

class WebsocketServer
{
    + WebsocketServer();
    + ~WebsocketServer();
    + {static} void OnOpen(server* s, WebsocketServer* pWebSocket, websocketpp::connection_hdl hdl);
    + {static} void OnClose(server* s, WebsocketServer* pWebSocket, websocketpp::connection_hdl hdl);
    + {static} void OnMessage(server* s, WebsocketServer* pWebSocket, websocketpp::connection_hdl hdl, message_ptr msg);
    + void start(int port);

    - server echo_server;
    - con_list m_connection_list;
    - websocketpp::lib::shared_ptr<websocketpp::lib::thread> m_thread;
}
note top: WebSocket服务端\n用于与教师端通信

class PrivateMessageGetter
{
    - long long time
    - long long senderId
    - std::string rawData

    + PrivateMessageGetter(nlohmann::json decode)
    + std::string getRawData()
    + long long getSenderId()
}
note bottom: 接收并分析私聊消息

class PrivateMessageSender
{
	- std::string data
	- long long targetId

	+ PrivateMessageSender(long long targetId, std::string data)
	+ void setContent(std::string data)
	+ void send()
}
note bottom: 发送私聊消息

class Analyst
{
    + struct RegInfo
    + struct StuInfo
    + struct HomeworkInfo

    + void AnaText(std::u16string data, long long qq_id)
    + void RegCommand(std::u16string data, long long qq_id)
    + void HomCommand(std::u16string data, long long qq_id)
    + void AnaFile(std::string name,std::string url, long long qq_id)
    + bool sendReview(long homeworkId)
    + void sendHomeworkNotification(long long assignmentId, int mode)
}
note top: 消息文本分析

class File
{
	- std::filesystem::path workPath
	- std::filesystem::path relativePath
	- std::filesystem::path infoPath
	- long long classId, schoolId, homeworkId,submitId
	- std::vector<FileInfo> fileList
	- int autoIndex = 1

	+ File(long long classId, long long schoolId, long long homeworkId)
	+ File(HomeworkInfo info)
	+ std::string storeText(std::string data)
	+ std::string delFile(std::filesystem::path fileName)
	+ std::string downFile(std::string url, std::filesystem::path fileName)
	+ std::string storePic(std::string url)
	+ bool save(long long submitId)
	+ std::string getFileList()
	+ std::string getFile(std::filesystem::path fileName)
	+ long long getSubmitId()
	+ std::string getContentFile()
	+ std::string getAttachmentFile()
	+ void delAll()
	+ std::filesystem::path getFilePath(std::filesystem::path fileName)
}
note right: 本地文件管理

class FileInfo
{
	- std::filesystem::path filePath
	- std::filesystem::path fileName
	- FileFormats fileFormats

	+ FileInfo(std::filesystem::path filePath)
	+ std::filesystem::path getFilePath()
	+ std::filesystem::path getFileName()
	+ FileFormats getFileFormats()
}
note right: 文件信息

WebsocketClient - -> QQMessage: 接收到消息
note on link : 执行回调函数
QQMessage - -> PrivateMessageGetter: 接收到消息
note on link : 传送原始json数据\n解析数据

QQMessage - -> Analyst : 开始分析
PrivateMessageGetter -> Analyst: 接收到消息
note on link : 传输文本内容

Analyst - -> PrivateMessageSender : 分析完成
note on link : 向相应QQ发送返回结果

Analyst - -> File : 保存提交作业内容
note on link : 服务端存储文本 图片 代码 其他附件

File <- -> FileInfo : 查询文件信息

WebsocketServer <- -> File: 传输文件内容
note on link : 教师端发出下载文件请求

DataManager <- -> Analyst
note on link : 查询并返回相关数据\n注册信息，班级，作业\n\n提交作业\n更新数据库
@enduml

PlantUML version 1.2021.7(Sun May 23 20:40:07 CST 2021)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: GBK
Language: zh
Country: CN
--></g></svg>